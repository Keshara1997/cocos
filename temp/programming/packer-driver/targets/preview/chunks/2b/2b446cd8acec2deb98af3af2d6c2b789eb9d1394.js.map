{"version":3,"sources":["file:///C:/Users/User/Documents/CocosGame/CoCos-Game-Login/login/assets/Script/signUp.ts"],"names":["_decorator","Component","director","EditBox","Node","WebSocketManager","ccclass","property","signUp","_webSocketManager","start","console","log","getInstance","connectToServer","eventTarget","on","onSignUpSuccess","update","deltaTime","onClickBackToLogin","loadScene","onClickSignUp","userName","signUp_UserName_EditBox","getComponent","string","password","signUp_Password_EditBox","name","signUp_Name_EditBox","isConnected","sendMessage","error","data","success","message"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,O,OAAAA,O;AAASC,MAAAA,I,OAAAA,I;;AAE1CC,MAAAA,gB,iBAAAA,gB;;;;;;;;;OADH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;wBAKjBQ,M,WADZF,OAAO,CAAC,QAAD,C,UAKHC,QAAQ,CAACH,IAAD,C,UAERG,QAAQ,CAACH,IAAD,C,UAERG,QAAQ,CAACH,IAAD,C,2BATb,MACaI,MADb,SAC4BP,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAY1BQ,iBAZ0B,GAYY,IAZZ;AAAA;;AAclCC,QAAAA,KAAK,GAAG;AAEJC,UAAAA,OAAO,CAACC,GAAR,CAAY,2EAAZ;AAGA,eAAKH,iBAAL,GAAyB;AAAA;AAAA,oDAAiBI,WAAjB,EAAzB;;AACA,eAAKJ,iBAAL,CAAuBK,eAAvB;;AAEA,eAAKL,iBAAL,CAAuBM,WAAvB,CAAmCC,EAAnC,CAAsC,gBAAtC,EAAwD,KAAKC,eAA7D,EAA8E,IAA9E;;AACAN,UAAAA,OAAO,CAACC,GAAR;AACH;;AAEDM,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAGMC,QAAAA,kBAAkB,GAAG;AACxBT,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAEAV,UAAAA,QAAQ,CAACmB,SAAT,CAAmB,YAAnB;AACH;;AAGMC,QAAAA,aAAa,GAAG;AACnBX,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEA,cAAIW,QAAQ,GAAG,KAAKC,uBAAL,CAA6BC,YAA7B,CAA0CtB,OAA1C,EAAmDuB,MAAlE;AACA,cAAIC,QAAQ,GAAG,KAAKC,uBAAL,CAA6BH,YAA7B,CAA0CtB,OAA1C,EAAmDuB,MAAlE;AACA,cAAIG,IAAI,GAAG,KAAKC,mBAAL,CAAyBL,YAAzB,CAAsCtB,OAAtC,EAA+CuB,MAA1D;AACAf,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BW,QAA7B,EAAuCI,QAAvC,EAAiDE,IAAjD;;AAEA,cAAI,KAAKpB,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBsB,WAAvB,EAA9B,EAAoE;AAChE,iBAAKtB,iBAAL,CAAuBuB,WAAvB,CAAmC,QAAnC,EAA6C;AAAET,cAAAA,QAAQ,EAAEA,QAAZ;AAAsBI,cAAAA,QAAQ,EAAEA,QAAhC;AAA0CE,cAAAA,IAAI,EAAEA;AAAhD,aAA7C;AACH,WAFD,MAEO;AACHlB,YAAAA,OAAO,CAACsB,KAAR,CAAc,yDAAd,EADG,CAEH;;AACA,iBAAKxB,iBAAL,CAAuBK,eAAvB;AACH;AAEJ;;AAGMG,QAAAA,eAAe,CAACiB,IAAD,EAAY;AAC9BvB,UAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDsB,IAAlD;AAEAvB,UAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;;AAEA,cAAIsB,IAAI,CAACC,OAAT,EAAkB;AACdjC,YAAAA,QAAQ,CAACmB,SAAT,CAAmB,QAAnB;AAEH,WAHD,MAOK;AACDV,YAAAA,OAAO,CAACsB,KAAR,CAAc,gBAAd,EAAgCC,IAAI,CAACE,OAAL,IAAgB,eAAhD;AACH;AACJ;;AAxEiC,O","sourcesContent":["import { _decorator, Component, director, EditBox, Node } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { WebSocketManager } from './webSocket/WebSocketManager';\n\n\n@ccclass('signUp')\nexport class signUp extends Component {\n\n\n\n    @property(Node)\n    public signUp_UserName_EditBox: Node;\n    @property(Node)\n    public signUp_Password_EditBox: Node;\n    @property(Node)\n    public signUp_Name_EditBox: Node;\n\n\n    private _webSocketManager: WebSocketManager = null;\n\n    start() {\n\n        console.log(\"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\");\n\n\n        this._webSocketManager = WebSocketManager.getInstance();\n        this._webSocketManager.connectToServer();\n\n        this._webSocketManager.eventTarget.on(\"signUpResponse\", this.onSignUpSuccess, this);\n        console.log(`signUp start`);\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n\n    public onClickBackToLogin() {\n        console.log(\"onClickBackToLogin\");\n\n        director.loadScene(\"LoginScene\");\n    }\n\n\n    public onClickSignUp() {\n        console.log(\"onClickSignUp\");\n\n        let userName = this.signUp_UserName_EditBox.getComponent(EditBox).string;\n        let password = this.signUp_Password_EditBox.getComponent(EditBox).string;\n        let name = this.signUp_Name_EditBox.getComponent(EditBox).string;\n        console.log(\"onClickSignUp\", userName, password, name);\n\n        if (this._webSocketManager && this._webSocketManager.isConnected()) {\n            this._webSocketManager.sendMessage(\"signUp\", { userName: userName, password: password, name: name });\n        } else {\n            console.error(\"WebSocket is not connected. Cannot send signUp message.\");\n            // Try to reconnect\n            this._webSocketManager.connectToServer();\n        }\n\n    }\n\n\n    public onSignUpSuccess(data: any) {\n        console.log(\"onSignUpSuccess+++++++++++++++++++\", data);\n\n        console.log('************signUp success************');\n\n        if (data.success) {\n            director.loadScene(\"Level1\");\n\n        }\n\n\n\n        else {\n            console.error(\"SignUp failed:\", data.message || \"Unknown error\");\n        }\n    }\n\n\n\n\n\n\n\n}\n\n\n"]}
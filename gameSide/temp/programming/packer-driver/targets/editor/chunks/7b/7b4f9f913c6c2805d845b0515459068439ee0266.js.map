{"version":3,"sources":["file:///C:/Users/User/Documents/CocosGame/CoCos-Game-Login/login/assets/scripts/controllers/JumperController.ts"],"names":["_decorator","Component","Animation","Collider2D","Contact2DType","ccclass","property","JumperController","start","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","console","warn","selfCollider","otherCollider","node","name","log","playJumperAnimation","playerController","jumperBoost","jumpBoostForce","animationComponent","play"],"mappings":";;;;;;;;;;;;;;;;AAEEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AAEAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,U,OAAAA,U;AACAC,MAAAA,a,OAAAA,a;;;;;wFAPF;;;;;OASM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;kCAGjBO,gB,WADZF,OAAO,CAAC,kBAAD,C,UAELC,QAAQ,CAACJ,SAAD,C,2BAFX,MACaK,gBADb,SACsCN,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAKf;AAE/BO,QAAAA,KAAK,GAAG;AACN,gBAAMC,QAAQ,GAAG,KAAKC,YAAL,CAAkBP,UAAlB,CAAjB;;AACA,cAAIM,QAAJ,EAAc;AACZA,YAAAA,QAAQ,CAACE,EAAT,CAAYP,aAAa,CAACQ,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACD,WAFD,MAEO;AACLC,YAAAA,OAAO,CAACC,IAAR,CAAa,+CAAb;AACD;AACF;;AAEDF,QAAAA,cAAc,CAACG,YAAD,EAA2BC,aAA3B,EAAsD;AAClE;AACA,cAAIA,aAAa,CAACC,IAAd,CAAmBC,IAAnB,KAA4B,QAAhC,EAA0C;AACxCL,YAAAA,OAAO,CAACM,GAAR,CAAY,0BAAZ,EADwC,CAGxC;;AACA,iBAAKC,mBAAL,GAJwC,CAMxC;;AACA,kBAAMC,gBAAgB,GAAGL,aAAa,CAACC,IAAd,CAAmBR,YAAnB,CAAgC,kBAAhC,CAAzB;;AACA,gBAAIY,gBAAgB,IAAIA,gBAAgB,CAACC,WAAzC,EAAsD;AACpD;AACAD,cAAAA,gBAAgB,CAACC,WAAjB,CAA6B,KAAKC,cAAlC;AACD;AACF;AACF;;AAEOH,QAAAA,mBAAmB,GAAG;AAC5B,cAAI,KAAKI,kBAAT,EAA6B;AAC3B,iBAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,QAA7B;AACD;AACF;;AArC6C,O;;;;;iBAEd,I;;yFAE/BpB,Q;;;;;iBACwB,I","sourcesContent":["// File: assets/scripts/controllers/JumperController.ts\r\nimport {\r\n  _decorator,\r\n  Component,\r\n  Node,\r\n  Animation,\r\n  Collider2D,\r\n  Contact2DType,\r\n} from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"JumperController\")\r\nexport class JumperController extends Component {\r\n  @property(Animation)\r\n  animationComponent: Animation = null!;\r\n\r\n  @property\r\n  jumpBoostForce: number = 3000; // Higher than normal jump force\r\n\r\n  start() {\r\n    const collider = this.getComponent(Collider2D);\r\n    if (collider) {\r\n      collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n    } else {\r\n      console.warn(\"JumperController: no Collider2D found on node\");\r\n    }\r\n  }\r\n\r\n  onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D) {\r\n    // Check if the player landed on the jumper\r\n    if (otherCollider.node.name === \"Player\") {\r\n      console.log(\"Player landed on jumper!\");\r\n      \r\n      // Play jumper animation\r\n      this.playJumperAnimation();\r\n      \r\n      // Get the PlayerController component from the player\r\n      const playerController = otherCollider.node.getComponent(\"PlayerController\") as any;\r\n      if (playerController && playerController.jumperBoost) {\r\n        // Call the jumper boost method\r\n        playerController.jumperBoost(this.jumpBoostForce);\r\n      }\r\n    }\r\n  }\r\n\r\n  private playJumperAnimation() {\r\n    if (this.animationComponent) {\r\n      this.animationComponent.play(\"jumper\");\r\n    }\r\n  }\r\n}"]}
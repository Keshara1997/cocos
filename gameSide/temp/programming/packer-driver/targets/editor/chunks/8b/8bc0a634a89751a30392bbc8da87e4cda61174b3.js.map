{"version":3,"sources":["file:///C:/Users/User/Documents/CocosGame/CoCos-Game-Login/login/assets/scripts/controllers/LevelGoalController.ts"],"names":["_decorator","Component","Collider2D","Contact2DType","director","ccclass","property","LevelGoalController","start","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","console","warn","selfCollider","otherCollider","log","node","name","currentLevel","completeLevel","nextLevel","totalLevels","nextSceneName","loadScene"],"mappings":";;;;;;;;;;;;;;;;AAEEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AAEAC,MAAAA,U,OAAAA,U;AACAC,MAAAA,a,OAAAA,a;AACAC,MAAAA,Q,OAAAA,Q;;;;;2FAPF;;;;;OASM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;qCAGjBO,mB,WADZF,OAAO,CAAC,qBAAD,C,2BAAR,MACaE,mBADb,SACyCN,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAEvB;AAFuB;AAAA;;AAKxB;AAEzBO,QAAAA,KAAK,GAAG;AACN,gBAAMC,QAAQ,GAAG,KAAKC,YAAL,CAAkBR,UAAlB,CAAjB;;AACA,cAAIO,QAAJ,EAAc;AACZA,YAAAA,QAAQ,CAACE,EAAT,CAAYR,aAAa,CAACS,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACD,WAFD,MAEO;AACLC,YAAAA,OAAO,CAACC,IAAR,CAAa,uDAAb;AACD;AACF;;AAEDF,QAAAA,cAAc,CAACG,YAAD,EAA2BC,aAA3B,EAAsD;AAClEH,UAAAA,OAAO,CAACI,GAAR,CAAa,qBAAb,EADkE,CAElE;;AACA,cAAID,aAAa,CAACE,IAAd,CAAmBC,IAAnB,KAA4B,QAAhC,EAA0C;AACxCN,YAAAA,OAAO,CAACI,GAAR,CAAa,SAAQ,KAAKG,YAAa,aAAvC;AACA,iBAAKC,aAAL;AACD;AACF;;AAEDA,QAAAA,aAAa,GAAG;AACd,gBAAMC,SAAS,GAAG,KAAKF,YAAL,GAAoB,CAAtC;;AAEA,cAAIE,SAAS,IAAI,KAAKC,WAAtB,EAAmC;AACjC;AACA,kBAAMC,aAAa,GAAI,QAAOF,SAAU,EAAxC;AACAT,YAAAA,OAAO,CAACI,GAAR,CAAa,uBAAsBO,aAAc,EAAjD;AACArB,YAAAA,QAAQ,CAACsB,SAAT,CAAmBD,aAAnB;AACD,WALD,MAKO;AACL;AACAX,YAAAA,OAAO,CAACI,GAAR,CAAY,+CAAZ;AACAd,YAAAA,QAAQ,CAACsB,SAAT,CAAmB,UAAnB;AACD;AACF;;AAtCgD,O,+EAChDpB,Q;;;;;iBACsB,C;;sFAEtBA,Q;;;;;iBACqB,C","sourcesContent":["// LevelGoalController.ts\r\nimport { \r\n  _decorator, \r\n  Component, \r\n  Node, \r\n  Collider2D, \r\n  Contact2DType, \r\n  director \r\n} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LevelGoalController')\r\nexport class LevelGoalController extends Component {\r\n  @property\r\n  currentLevel: number = 1; // Set this in the inspector for each level\r\n  \r\n  @property\r\n  totalLevels: number = 2; // Update this as you add more levels\r\n\r\n  start() {\r\n    const collider = this.getComponent(Collider2D);\r\n    if (collider) {\r\n      collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n    } else {\r\n      console.warn(\"LevelGoalController: no Collider2D found on goal node\");\r\n    }\r\n  }\r\n\r\n  onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D) {\r\n    console.log(`Begin contact goal:`);\r\n    // Check if player reached the goal\r\n    if (otherCollider.node.name === \"Player\") {\r\n      console.log(`Level ${this.currentLevel} completed!`);\r\n      this.completeLevel();\r\n    }\r\n  }\r\n\r\n  completeLevel() {\r\n    const nextLevel = this.currentLevel + 1;\r\n    \r\n    if (nextLevel <= this.totalLevels) {\r\n      // Load next level\r\n      const nextSceneName = `Level${nextLevel}`;\r\n      console.log(`Loading next level: ${nextSceneName}`);\r\n      director.loadScene(nextSceneName);\r\n    } else {\r\n      // All levels completed - return to main menu or show completion screen\r\n      console.log(\"All levels completed! Returning to main menu.\");\r\n      director.loadScene(\"MainMenu\");\r\n    }\r\n  }\r\n}"]}
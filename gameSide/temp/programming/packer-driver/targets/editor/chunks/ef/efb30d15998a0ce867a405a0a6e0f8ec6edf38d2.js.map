{"version":3,"sources":["file:///C:/Users/User/Documents/CocosGame/CoCos-Game-Login/login/assets/scripts/managers/GameManager.ts"],"names":["_decorator","Component","Node","director","game","ccclass","property","GameManager","currentSceneName","onLoad","instance","getScene","name","gameOverPanel","active","gameOver","console","log","pause","restartLevel","resume","loadScene","goToMainMenu"],"mappings":";;;;;;;;;;;;;;;;AAEEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,Q,OAAAA,Q;AACAC,MAAAA,I,OAAAA,I;;;;;mFANF;;;;;OAUM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;6BAGjBO,W,WADZF,OAAO,CAAC,aAAD,C,UAELC,QAAQ,CAACJ,IAAD,C,sCAFX,MACaK,WADb,SACiCN,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA,eAKjCO,gBALiC,GAKN,EALM;AAAA;;AAOzCC,QAAAA,MAAM,GAAG;AAAA;;AACP;AACAF,UAAAA,WAAW,CAACG,QAAZ,GAAuB,IAAvB;AACA,eAAKF,gBAAL,GAAwB,uBAAAL,QAAQ,CAACQ,QAAT,0CAAqBC,IAArB,KAA6B,EAArD,CAHO,CAKP;;AACA,cAAI,KAAKC,aAAT,EAAwB;AACtB,iBAAKA,aAAL,CAAmBC,MAAnB,GAA4B,KAA5B;AACD;AACF;;AAEMC,QAAAA,QAAQ,GAAG;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EADgB,CAGhB;;AACAb,UAAAA,IAAI,CAACc,KAAL,GAJgB,CAMhB;;AACA,cAAI,KAAKL,aAAT,EAAwB;AACtB,iBAAKA,aAAL,CAAmBC,MAAnB,GAA4B,IAA5B;AACD;AACF;;AAEMK,QAAAA,YAAY,GAAG;AACpBH,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EADoB,CAGpB;;AACAb,UAAAA,IAAI,CAACgB,MAAL,GAJoB,CAMpB;;AACAjB,UAAAA,QAAQ,CAACkB,SAAT,CAAmB,KAAKb,gBAAxB;AACD;;AAEMc,QAAAA,YAAY,GAAG;AACpBN,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EADoB,CAGpB;;AACAb,UAAAA,IAAI,CAACgB,MAAL,GAJoB,CAMpB;;AACAjB,UAAAA,QAAQ,CAACkB,SAAT,CAAmB,UAAnB;AACD;;AAhDwC,O,UAI3BX,Q;;;;;iBAFe,I","sourcesContent":["// File: assets/scripts/managers/GameManager.ts\r\nimport { \r\n  _decorator, \r\n  Component, \r\n  Node, \r\n  director,\r\n  game\r\n} from 'cc';\r\nimport { ScoreManager } from './ScoreManager';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameManager')\r\nexport class GameManager extends Component {\r\n  @property(Node)\r\n  public gameOverPanel: Node = null!;\r\n  \r\n  public static instance: GameManager;\r\n  private currentSceneName: string = '';\r\n\r\n  onLoad() {\r\n    // Set up singleton access\r\n    GameManager.instance = this;\r\n    this.currentSceneName = director.getScene()?.name || '';\r\n    \r\n    // Make sure game over panel is hidden at start\r\n    if (this.gameOverPanel) {\r\n      this.gameOverPanel.active = false;\r\n    }\r\n  }\r\n\r\n  public gameOver() {\r\n    console.log(\"Game Over triggered!\");\r\n    \r\n    // Pause the game\r\n    game.pause();\r\n    \r\n    // Show game over panel\r\n    if (this.gameOverPanel) {\r\n      this.gameOverPanel.active = true;\r\n    }\r\n  }\r\n\r\n  public restartLevel() {\r\n    console.log(\"Restarting level...\");\r\n    \r\n    // Resume game before loading scene\r\n    game.resume();\r\n    \r\n    // Reload current scene\r\n    director.loadScene(this.currentSceneName);\r\n  }\r\n\r\n  public goToMainMenu() {\r\n    console.log(\"Going to main menu...\");\r\n    \r\n    // Resume game before loading scene\r\n    game.resume();\r\n    \r\n    // Load main menu scene\r\n    director.loadScene(\"MainMenu\");\r\n  }\r\n}"]}